// See https://aka.ms/new-console-template for more information
using System.ComponentModel.DataAnnotations;

Console.WriteLine("Hello, World!");

var inputSmall = @"#.##..##.
..#.##.#.
##......#
##......#
..#.##.#.
..##..##.
#.#.##.#.

#...##..#
#....#..#
..##..###
#####.##.
#####.##.
..##..###
#....#..#
";

var input = @".####..
###..#.
..#.###
#.####.
#.####.
..#.###
###..#.
.####..
.....#.
...#.#.
.####..
###..#.
..#.###

.##...##..#
....#####.#
#..#.####.#
....##...##
.##.#......
####.###.##
.##.....###
#..###...##
#..#.#...#.
.##.######.
.##..###..#
#..##.#..#.
#..##.#..#.
.##..###..#
.##.######.
#..#.##..#.
#..###...##

........#.##.
.##..##.#####
#..##..#..#..
.........#.#.
...........##
###..####.###
........##..#
.##..##.#####
........##...
########...##
.##..##.#.###

###.#.########.#.
.#..#..##..##..#.
.#..#..##..##..#.
###.#.########.#.
#....#..####..#..
.########..######
..#.....#..#.....
##....##....##...
#...###...#..###.
..##.###.##.###.#
.###....#..#....#
###.#.#..##..#.#.
#..#.....##.....#

..##.###..###.##.
##..#..#..#..#..#
###..#..##..#.###
##..##########..#
###.####..####.##
..#...#.##.#...#.
##..#.#....#.#..#
..#.##.####.##.#.
..##.########.##.

.#.###.....###.
#.###########.#
#..####.##.#.#.
####...#.##.##.
####..##.##.##.
....#..####.###
.##..#...#...##
###...#..####..
###...#..####..
.##..#...#...##
....#..####.###
####..##.##.##.
####...#.##.##.

..#.#...#..##.##.
..#.#...#..##.##.
...##.#.###.#.#.#
##.##....#####.#.
##.#####.....#..#
....#..##.##.##.#
.##..#.#...#####.
..#.####.#..###.#
###..###.##..#.#.

##......#
####..###
...#..#..
###.##.##
..#....#.
....##.#.
..##..##.
....##...
###....##

#..##........##..
.##.##.####.##.##
.###.##.##.##.###
#..#.##.##.##.#..
###...#.##.#...##
#..###..##..###..
#..###.#..#.###..
#....########....
#..#.##.##.##.#..
####.#..##..#.###
###..#.#..#.#..##
.##.##......##.##
.#...#......#...#

.#.#.#.#.##.#
##.###.######
.#..#.##.##.#
##..##.##..##
#.#..#.......
..#.#....##..
...#.##.####.
##.###.######
######.###.##
.###.##.####.
.###.#...##..
#....##.#..#.
.###.##......
##.##.#......
##.##.#......

###.#....####
###......####
.##..##...###
.###..##.#...
...#.......##
######....#..
#....####.#..

.##..#####.
#..#####.##
.##...###.#
.##....####
....##...##
....##...#.
.##....####
.##...###.#
#..#####.##
.##..#####.
.....##.###

##....##.####
#..##..##.##.
#......##.##.
#.#..#.#.####
##.##.###....
...##....####
#.####.##....
#.#..#.######
##....##.#..#
##....##.####
.######......
##.##.####..#
.#.##.###....
.#....#.#....
###..####.##.

#.##.#..##.
#.##.##.##.
#######.###
..##...##..
##..###.#..
#....#...#.
.#..#.#..#.
#....##.#..
##..###.##.
######..#..
..##..#..##

.#..#..
..#....
##.....
...#.##
..#..##
.##..##
...#.##
##.....
..#....

.##..........##.#
##.#..####..#.##.
.##...####...#..#
#..............#.
.##..######..##..
################.
.####......####..
.....##..##.....#
.#.##.####.##.#..
.#.##.####.##.#..
.....##..##.....#
.####......####..
################.
.##..######..##..
#..............#.

#....#...#.####.#
.#..#...#...##...
#######.###.##.##
######...##.##.##
.####..##........
......#..#..##..#
.#..#...#.#....#.
##..###..###..###
..##....##.####.#
#.....####.#..#.#
##..##.#.#......#
#.##.#.###......#
#.##.#.#...#..#..

#..#.##.#.##.#.
##.....#......#
#..#..##..##..#
####.#..##..##.
####.#..##..##.
#..##.##..##..#
##.....#......#
#..#.##.#.##.#.
###.##..#....#.
.#.#..##.####.#
..##..#..#..#..
#.##...##.##.##
##..#.##.####.#
.#.##....#..#..
#####.###.##.##

##.##....
#.####.##
..##..##.
..#.#.#..
..#.#.#..
..##..##.
#.####.##
##.##....
....#.##.
###.####.
.#....###
##.#...##
##.##..##

....##.##..
####..#..#.
.....####..
....#.###..
#####.##.##
.....#..#..
#..##...#..
.....##.###
....##...#.
....#...#.#
####.##.###
.....###.##
......#..#.
####.##..#.
#####..####

.#.####..
###....#.
.#####..#
.##.##.##
##...##.#
#..#..#.#
##.#...#.
.#...#..#
.#...#..#
##.#...#.
#..#..#.#
##...##.#
.##.##.##
.#####..#
###....#.
.#.####.#
.#.####.#

###...###.##...
....##....#.#..
.##.##....#..##
.##.##....#..##
....##....#.#..
###...##..##...
...#.##..#..#..
###.#.#####....
#.#####.###..##
.#.#.....#.##..
.#.#.#.#.####..
##...#...#.#.##
#.##.....##..##

..###....
##.....#.
##.#..###
##..###..
...###...
#######.#
#######.#
...###...
##..###..
##.#..###
###....#.
..###....
..##.#.#.
#####...#
...#..#.#
###....#.
####.#.#.

#....##.####..#
#.##.#.#..##..#
##..###..###..#
.#..#...#..####
#....#..##..#..
..##..##.#.####
..##...#####..#
##..#######.##.
.####...##.####
.......#..#.##.
.####.#####.##.
.####...##.####
#.##.#.###.....

###.#.###.#.#.###
.#.........####.#
...#.#####.#.####
###.....##.##...#
#.######...##.#.#
.#.#.#.......##..
.#.#.#.......##..
#.######...##.#.#
###.....##.##...#
...#.#####.#.####
.#....#....####.#
###.#.###.#.#.###
###.#.###.#.#.###

.##....######.###
.##....######.###
####....#.#.#....
######.##...###.#
.##....###.##....
#######.###.###.#
.##.#.#.#.##.....
.#...##.###.###..
#..#.#.###..##..#
......#####..##.#
#..##..###.#..###
#####.#...###.###
####....#.##..###

#####...##...##
##.###..##..###
###..##....##.#
######.####.###
##..###.##.###.
.......#..#....
##.###.#..#.###

#..####..##.#####
#..####..##....#.
#..####..#.......
.##.##.##.....##.
....##......##.##
...#..#....##.#.#
.##.##.##.#.##.##
....##....#.#.#.#
####..#####.....#
.##.##.##.#.###..
..........##..###
#..#..#..##...#..
....##....#...#..

#.###.......#..#.
.#.#.#..#####..##
.#.###.##.#......
##..#.#...##.##.#
###..##.#..#....#
#.##....###......
##...######..##..
.##.#.#..###.##.#
#...#.#####.#..#.
.##..######..##..
..#..######..##..

..####..#
..##.####
##....##.
..#...##.
###.#...#
##.###..#
..#...##.

..#######.#######
..#....#..#.#.###
.#..#....####.###
.#..#....####.###
..#....#..#.#.###
..#######.#######
..##..#.#.#####..
.##.#.###.##.....
.###..#.#.#######
##..#..###.#.####
#..##.#..##.###..
....#.#.#..#.####
.#..#.....##..##.
##..##.###..#..##
..#..#.####.##.##
#..#.#.###.#.##..
...###.##..##....

###....#.
..####.##
###.#..##
..#.###.#
..#.###.#
###.#..##
..##.#.##
###....#.
##.#####.
##..###.#
..#.###.#
##....###
...#..##.

#..###...#.##..
..#####.#..#.##
...######.##.##
#.##...#.##.###
..#...#.#...###
.#.#...#...##..
.#.#....####...
####..##.#..###
####..####..###

.###.####..
.###.####..
..##.#.##.#
..#.#..###.
#.##.####.#
#...###.##.
...######..
..#...####.
###...#....
###...#....
..##..####.
...######..
#...###.##.
#.##.####.#
..#.#..###.
..##.#.##.#
.###.####..

#.###..####..####
####.###.#......#
.#.#...#...#....#
...#.##.#.##..#..
##...#.#.##.##.#.
##...#.#.##.##.#.
...#.##.#.##..##.
.##.###.#.#..##.#
.##.###.#.#..##.#
...#.##.#.##..##.
##...#.#.##.##.#.
##...#.#.##.##.#.
...#.##.#.##..#..

######...#.
.####.#.###
.####.###.#
.####.###.#
.####.#.###
######...#.
#....#.####
.####.....#
#....##.##.
#######..##
##..##...##
.####..####
######.##.#
#.##.#.##..
#.##..#####

##..#...#..
#.##.##..#.
..#.##..#.#
..#.##..#.#
#.##.##..#.
##..#...#..
#....##..##
....####...
..#.####...

......#.###...#
##..###.##..#.#
#.##.#...#.###.
#.##.#.#.#.###.
##..###.##..#.#
......#.###...#
##..##.#####.#.
######.##.####.
.#..#......##..

.#.###.##..##.###
#..###..####..###
###..###....###..
..##.###....###.#
##.#....####....#
##.#.###.##.###.#
.###.#..####..#.#
..###...####...##
#...#.########.#.
#....#..####..#..
####............#
####............#
.....#..####..#..

##.####.###
#......####
#......####
##.####.###
##..#...#..
.#.......#.
.#....####.
#.##.##..##
##..###...#
####..#....
...##..##.#
...#.######
...#.#####.

##.###.
...##.#
...##.#
######.
....##.
##.....
..###.#
##.###.
..#.###
..##.#.
...####

.##########..##
.#.#....#.###..
##...##...###.#
#.########.#...
..###..###..##.
.#.##..##.#.###
.#.##..##.#.###

##.#####..#
..#...#####
.#..#......
#...##..##.
.##....#..#
###.#.#....
##..#.#.##.
#.#########
#.###.#####

##.###.
.##..##
.##..##
##.###.
#.#....
.#...##
##.###.
#.#.###
#.#..##
##.###.
.#...##
#.#....
##.###.

.......###.##...#
#.###.#.##...#.##
#.###.#.##...#.##
.#.....###.##...#
##.#.#.##.##..#.#
#.#..#.....####.#
......#.#....##..
#..##.###...#..##
##.###......##...
##.###......##...
#..##.###...#..##
......#.#....##..
#.#..#.....####.#

#......##
##.#.....
##.#.....
#.#....##
..#######
#.###.###
#..######

#....#.##
######.##
##..##.#.
.#..#..##
..##.....
.......##
######.#.
.#..#.###
.#..#.##.

##.#...##
###.###..
.##.#..#.
.#.#.##.#
#..#..###
#.###.#.#
#.###.#.#
#..#..###
.#.#.##.#
.##....#.
###.###..
##.#...##
##.#...##
###.###..
.##....#.

#.##..##.##.#.#
....##.....#.#.
....##.....##..
....##.....##..
....##.....#.#.
#.##..##.##.#.#
#.##..##...###.
..#....#..#....
#...##...#..##.
...#..#....#...
.##.##.##.#..##
#.#....#.#.#.#.
..#....#..##.#.

..#####
..###..
.####..
.#..###
#..#...
#..#...
....###
.####..
..###..
..#####
..#.###
...#...
.##..##

#...####.######.#
#...####.######.#
#..#....##....##.
######.##.#..#.##
..#.#....#....#..
##.##.##.#.##.#.#
.####.#.########.
####...#...##...#
....##..########.
........#..##..#.
#.#..###.######.#
......#.#..##..#.
#.##..##..##.#..#

#.####.....##..
#.####.....##..
#.######......#
....####.#.#...
##.#....##..#.#
#...###..##..#.
#.#.#..####.#.#
##.#####.##.###
##.#####.##.###
#.#.#..####.#.#
#...###..##..#.
##.#....##..#.#
....####.#.#...
#..#####......#
#.####.....##..

#..##.##.##
#..##.##.##
.##.#....##
.#.##.#....
.###..##..#
#...#.#..##
.#..#....#.
##.#..##.#.
#.#.#...###
#.####....#
.#.###..#.#
.###..#####
.###..#####
.#.###..#.#
#.####....#
#...#...###
##.#..##.#.

####...#.####.#
.##.####...#..#
.##..##.#.#..#.
....##.#.....#.
###..#......##.
.......###.#.#.
####..#.#.##..#
#..#.##.#..####
#..#.##.#..####
####..#.#.##..#
.......###.#.#.

.#....#....
.######..##
.#.##.#..##
.#....#....
...##...##.
#..##..#.##
.##..##.###

#######.#
#.###....
###.#.#.#
....####.
.#.#..###
#..##.###
#..##.###
.#.#..###
....####.
###.#.#.#
#.###...#
#######.#
.##.#...#
.##.#...#
#######.#

##.##.#....##
.##.###.###.#
.######.###.#
##.##.#....##
.##..#..#...#
#...#...#....
#....#.....#.
###.#.##.####
....#..####..
#...#...#....
....####.#...
....####.#...
#...#...#....
....#..####..
###.#.##.####

#.##.##..##.#
.#..#......#.
#....######..
..##..#..#..#
######.##.###
..##...##...#
#.##.######.#
.###..####..#
#....#....#..
.#..#.#..#.#.
.####.####.##
.#..#.#..#.#.
......####...
.#..#.####.#.
.#..#.#..#.#.
#....#.##.#..
##..##.##.##.

####.#..#.#####
.#.#.#..#.#.#..
.###.####.##..#
..#........#..#
##.##....##.###
##.##....##.###
..#........#..#

######..#####
##..######..#
#..#.#..#.#..
..####..####.
..##..##..##.
..##......##.
...########..

#.#####..
#.#####..
...####..
...#..#..
.###..###
###.##.##
..#.##.#.

##.##....
##.##....
.###.#.##
##.####..
###..####
####...##
#..##..##
#.#######
#.#...#..
.#....#..
###..#...
#.##..#..
........#
......###
...#.....
######...
...#.....

.###..###..##..
..######....###
..######....###
.###..###..##..
..#.##.#..####.
..#....#....##.
..######......#
...####.....###
..#.##.#..#....
..#....##....#.
.#......#.##...
..........#####
###.##.###.....

.#..#.##.###.
.#..#..###.#.
..##..#...#.#
##..######...
#....#..#..##
.........###.
#######..#.#.
#########..#.
......##.....
########.####
.####.##..#..
..##..######.
..##...#...##
..##...#...##
..##..##.###.

.#.#.##
#.###..
....###
.#.#.##
#...###
.##....
.##....
#...###
...#.##

#..###.###..#..
...######..#.#.
...######..#.#.
#..###.###..#..
###..#..#.#..##
..##.##.##.#..#
######..#..###.
......#...##..#
###..####....#.
###..####....#.
......#...##..#
######.##..###.
..##.##.##.#..#

...#..#######
..#.#.....#.#
....#..#..#..
...#######.##
##.##..#.##..
##.#.#..#.#..
##.#.##..#.##
##.###...##..
.....#.######
..#.#......##
##..#.#...###

#......##
..####...
#.####.##
#..##..##
#..##..##
...##....
.######..
..####...
.##..##..
##....###
..##.#...

.#.#..#.#
#...##...
#....#...
#......##
###.####.
##..#.##.
####..###
#.##..###
##..#.##.
###.####.
#......##
#....#...
#...##...
.#.#..#.#
....##.##
.#.###.##
.#.###.##

..##.#..#
####.#..#
##...####
##.#.....
###.#####
..#...##.
###...##.
...#..##.
###.#####
##.##.##.
...#.....
####.####
######..#
####.#..#
..#..#..#
####.....
##.###.##

......#.#
####.#.##
.....####
....##.#.
.....#.##
....##.#.
####....#
#..##.#.#
#######.#
....#.##.
######...

#.#####..###..#
##...####.#.##.
#.#.##.##....#.
#.#.##.##....#.
##...####.#.##.
#.#####..###..#
#.#.#.#.#.#.#.#
##..##.####.###
.####.####.#..#
#####..########
#####..###.####
.####.####.#..#
##..##.####.###

...##.##.#...#...
......#####.###..
.#...##.###......
###.#.#.##.#..###
..##....#...#####
..##....#...#####
###.#.#.##.#..###
.#...##.#.#......
......#####.###..
...##.##.#...#...
#.###..#.#..###..

..####..#..#..#
##.###..#.###..
##.#..#...#..##
##.#..#...#..##
##.###..#.###..
.#####..#..#..#
.#...##.###..##
#..###.##..#.##
...#.##.#.#.#..
..####..#.####.
..#......#....#
#..#..##..##.#.
.##.....#.#.#..
.##.....#.#.#..
#..#..##..##.#.
..#......#....#
..####..#.####.

###########..#...
##..##..###..####
....##....##.....
..#.##.#...##.###
............##...
#.######.##..#...
...####....##..##
#..####..#.######
..######..#....##
##......##..###..
..##..##..#######
.###..###.#......
###########.##...
..#.##.#..#.##.##
#........#####.##
#.#.##.#.######.#
....##....#######

.#.##......
.#..#######
.#...######
.##........
...###....#
...###....#
.##........
.#...######
.#..#######
.#.##......
..#...#####
.....##..##
.#..###..##
#...#.####.
....##.##.#

...##.#..#.##
.#..#.####.#.
###..........
..#.#..##..#.
.##..#.##.#..
#####......##
#.#####..####
###.##.##.##.
..#.########.
####........#
.###........#
..#.########.
###.##.##.##.
#.#####..####
#####......##
.##..#.##.#..
..#.#..##..#.

.......#.
.##..##.#
####.....
####..###
....##.#.
.##..###.
#..#.##.#
####.####
#..##....
.##.#..#.
.##.#..#.
#..##....
####.####
#..#.##.#
.##..#.#.

.##...##.
##.######
##.######
..#...##.
#..###..#
..#..####
#.####..#
#.....##.
....#.##.
.....#..#
#.##.#..#

.#.##.###
.#.##.###
..###.###
#..###..#
#.......#
.###..#..
##....##.
#..##.#..
#..##.#..
##....##.
..##..#..

##...###...#.####
###..#.##.#.#..#.
..#..##.##...##..
..#..##.##...##..
###..#.##.#.#..#.
##...###...#.####
##.##..#...###.#.
.#.#....#...#..##
..####..#.#.###..
#..##.#.##......#
#..##.#.##......#
..####..#.#.###..
.#.#....#...#.###
##.##..#...###.#.
##...###...#.####
###..#.##.#.#..#.
..#..##.##...##..

....##.....#.#...
......#.#.##....#
..........###.#..
....##...#.####..
#..##.#######.#..
...#..##.#####.#.
.....#..###..###.
####....#..#.....
....#.#.##.#..#.#
####.#..#.###..##
####...####.....#
#..#..##...##.###
#..#.#.....#.#...
#..##...#.###..##
#..##...#.###..##

...#.######
..##.##...#
..#.#.#..#.
###.#.#.#.#
...##....#.
##.#.##....
##...##....

.##.###
.#..##.
#.#.##.
.#.#..#
.#.#..#
#.#.##.
.#.###.
.#.###.
#.#.##.
.#.#..#
.#.#..#
#.#.##.
.#..##.

########.
..##..#..
.#..#.###
.#..#.#.#
..##..#..
########.
.####.###
........#
..##...##
#.##.##..
........#
##..##.#.
#....####
#....#..#
..##..#..

..####...#....#..
..#..#...##..##..
##....#####..####
#..##..#.#....#.#
...##...#.####.#.
.#....#.##.##.##.
##...###..#..#..#
##....##........#
.######.#..##..#.
##....###.####.##
.##..##..#....#..
###..###...##...#
#.####.#..####..#
#.#..#.#.##..##.#
##....##.#....#.#
.#....#..##..##..
#..##..#.#....#.#

.#..#.#...##.
.#..#.#...#..
##..######...
#....#..#..##
##..##.#.##..
#.##.######.#
##..####.#.#.
.#..#.#.#####
.####.#...#.#
##..##..##..#
#....##.#.##.
.#..#....###.
......##...##
.####.##.#.#.
......#.#...#

...##..
#.####.
.######
#.#..#.
#.#..#.
.######
#.####.
...##..
#.#....
#.####.
...##..

#..#.#...###..#
#.##.#........#
...###..#.#....
...###..#.#....
#.##.#........#
#..#.##..###..#
..##.##...####.
....##.#.#..#..
###...#....####
#...#.#.##.#..#
...##.##..#####
#.#.#####.###.#
..#####.######.
..#####.######.
#.#.#####.###.#

##.##.#
..##.#.
###.#..
..##..#
...####
##.#.##
..####.
..####.
##.#..#
...####
..##..#

..#########
##.##....##
....##..##.
##.##....##
##.#......#
#.##.####.#
.....####..
##..##..##.
..#.##..##.

##..###..
..#.##.#.
#....#...
##.#..#..
..####.##
####.##..
##.##.##.
##.....##
..####.#.
###..#.#.
##.#.#.##
....#..#.
....#...#
....#...#
....#..#.

#...#.####.#...
#....#...#.#.##
.#..####.#..###
..####...#..###
.....#.#....#.#
#..####.#.#.##.
#..####.#.#.##.
.....#.#....#..
..####...#..###
.#..####.#..###
#....#...#.#.##
#...#.####.#...
.####.#..#.##..
####..#.##.##.#
#.#.#..####..#.
#.#.#..####..#.
####..#.##.##.#

##.#..#.###
..######...
#.#.##.###.
#.##..##.##
...####...#
#..####..#.
#..####..#.

....#..####....
####..###......
....##.##..####
........####..#
.##.#.#.#.##..#
..#.#.#..#..##.
#########..####
#..#######.####
####....###.##.

#####..#####.
.##......##.#
..########...
...######....
#####..#####.
#.###..###.##
#.###..###.##
#####..#####.
...######....
..########...
.##......##.#
#####..#####.
.#.#.##.###..
.....##.....#
##........##.

#.##.##.##.##
#..#.##.#..##
...##..##....
#.#......#.##
.###.#..###..
..##.##.##...
#..#....#..##
##.######.###
#..######..##
####....#####
#..##..##..##
..#......#...
#.#......#.##
#....##....##
####.##.#####

##..#....##.#.#
##..#....##.#.#
...##..###.####
..###.#..###.#.
#.##.#.#####..#
#.#####.###.#..
##....###...##.
#..###.#...##..
##.###.#.....#.
#.#.#.#.#.##..#
..#..##.#..###.
..##.##.#.....#
#.##.##.#.....#

..#.#...##.
##.#.##.##.
##.##.##..#
..#..##.##.
##.#.###.##
..#.#..#..#
..###..#..#
..###.##..#
##....#####
##..##.....
..#..#.#..#

#..###.##.#.#...#
#.##.....#.###.#.
#.##..#.###.#.#.#
##........#..###.
#..##.#.###..#.#.
#..#.#...#....##.
#..#.#...#....##.
#..##.#.###..#.#.
##........#..###.
#.##..#.###.#.#.#
#.##.....#.###.#.
#..###.##...#...#
.##...##..#..##..
####.#...#...##..
..##.#..#..#.#.#.
##.##.#.#..#.#..#
##.##.#.#..#.#..#
";

var summarizer = new NoteSummarizer();
var sum = summarizer.SummarizeNotes(input);
Console.WriteLine(($"SUM: {sum}"));

public class NoteSummarizer
{
    public int SummarizeNotes(string input)
    {
        List<Pattern> patterns = new List<Pattern>();
        var lines = input.Split(Environment.NewLine);
        int start = 0;

        for (int i = 0; i < lines.Length; i++)
        {
            if (lines[i].Length == 0)
            {
                patterns.Add(new Pattern(lines.Skip(start).Take(i - start)));
                start = i + 1;
            }
        }
        var sum = 0;
        foreach (var pattern in patterns)
        {
            sum += pattern.Summarize();
            Console.WriteLine();
            Console.WriteLine();
        }
        return sum;
    }
}


public class Pattern
{
    public List<PatternRow> Rows { get; set; } = new List<PatternRow>();

    public List<PatternColumn> Columns { get; set; } = new List<PatternColumn>();

    public string Symmetry { get;set; }

    public Pattern(IEnumerable<string> lines)
    {
        int index = 0;
        foreach (var line in lines)
        {
            Rows.Add(new PatternRow()
            {
                RowText = line,
                Index = index
            });
            index++;
        }
        for (int i = 0; i < lines.First().Length; i++)
        {
            Columns.Add(new PatternColumn()
            {
                ColumnText = new string(lines.Select(x => x[i]).ToArray()),
                Index = i
            });
        }
    }

    public int Summarize()
    {
        return 100 * SummarizeRows() + SummarizeColumns();
    }


    public int SummarizeRows()
    {
        for (int i = 0; i < Rows.Count - 1; i++)
        {
            var range = Enumerable.Range(0, int.Min(i + 1, Rows.Count - i - 1));
            if (range.All(x => Rows[i - x].RowText == Rows[i + x + 1].RowText))
            {
                Symmetry = $"Row {i + 1}";
                return i + 1;
            }
        }
        return 0;
    }

    public int SummarizeColumns()
    {
        for (int i = 0; i < Columns.Count - 1; i++)
        {
            var range = Enumerable.Range(0, int.Min(i + 1, Columns.Count - i - 1));
            if (range.All(x => Columns[i - x].ColumnText == Columns[i + x + 1].ColumnText))
            {
                Symmetry = $"Column {i + 1}";
                return i + 1;
            }
        }
        return 0;
    }
}

public class PatternRow
{
    public string RowText { get; set; }
    public int Index { get; set; }
}

public class PatternColumn
{
    public string ColumnText { get; set; }
    public int Index { get; set; }
}